from pdpbiogen.simulator import generate_phantom_trials\nfrom pdpbiogen.sensors.nv_sim import NVSimulatedSensor\nfrom pdpbiogen.sensors.classical_sim import ClassicalSimulatedSensor\nfrom pdpbiogen.simulator import matched_filter_scores\nfrom pdpbiogen.analysis import compute_auc\nimport numpy as np\n\ndef test_pipeline_runs():\n    trials, labels = generate_phantom_trials(fs=2000, amplitudes=[0.5,1.0], n_trials=10)\n    nv = NVSimulatedSensor(fs=2000, noise_pT_per_sqrtHz=5.0)\n    cl = ClassicalSimulatedSensor(fs=2000, noise_pT_per_sqrtHz=25.0)\n    windows_nv = nv.record_trials(trials)\n    windows_cl = cl.record_trials(trials)\n    template = windows_nv[labels==1].mean(axis=0)\n    scores_nv = matched_filter_scores(windows_nv, template)\n    scores_cl = matched_filter_scores(windows_cl, template)\n    auc_nv = compute_auc(scores_nv, labels)\n    auc_cl = compute_auc(scores_cl, labels)\n    assert 0.0 <= auc_nv <= 1.0\n    assert 0.0 <= auc_cl <= 1.0\n